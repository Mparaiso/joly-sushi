// Generated by CoffeeScript 1.3.3
var ProductDetailController, ProductListController;

ProductListController = function($scope, $http, $filter) {
  /* gère l'affichage de la liste de produits
  */
  $scope.title = "Joly Sushi";
  $http.get('data/data.json').success(function(data) {
    $scope.sushis = data;
    return $scope.totalPrice = function() {
      var sushis;
      sushis = $filter('filter')($scope.sushis, $scope.query);
      console.log(sushis);
      return sushis.reduce((function(a, b) {
        return a + b.price;
      }), 0);
    };
  });
  $scope.orderProp = 'price';
};

ProductDetailController = function($scope, $routeParams, $http) {
  /* gère l'affichage de vue de détail
  */
  $scope.sushiId = $routeParams["sushiId"];
  $http.get('data/data.json').success(function(datas) {
    /* si success , récuperer le produit dans la liste des produits 
    selon l'id du produit
    */
    $scope.sushi = datas.filter(function(data) {
      return data.id === parseInt($scope.sushiId, 10);
    })[0];
  });
};

/* ProductDetailController.$inject = ['$scope',"$routeParams"]
*/

